"use strict";(self.webpackChunkembed_widget=self.webpackChunkembed_widget||[]).push([[4355],{44355:(e,n,t)=>{t.r(n),t.d(n,{default:()=>m});var i=t(47313),a=t(43635),l=t(43411),s=t(17739),r=t(98501),o=t(35179),d=t(46417);const u=i.lazy((()=>t.e(7535).then(t.bind(t,37535)))),g=i.lazy((()=>t.e(260).then(t.bind(t,50260)))),c=i.lazy((()=>t.e(9093).then(t.bind(t,59093)))),h=i.lazy((()=>t.e(8534).then(t.bind(t,18534)))),p=i.lazy((()=>Promise.all([t.e(7914),t.e(589)]).then(t.bind(t,66538))));class v extends i.PureComponent{constructor(){super(),this.handleResize=()=>{this.containerRef.current&&this.setState({containerSize:{width:this.containerRef.current.offsetWidth,height:this.containerRef.current.offsetHeight}})},this.state={containerSize:{width:null,height:null},parentID:""},this.containerRef=i.createRef()}componentDidMount(){(0,s.gz)(this.props.wall.Personalization.widgetTheme),window.addEventListener("resize",this.handleResize),this.containerRef.current&&this.setState({containerSize:{width:this.containerRef.current.offsetWidth,height:this.containerRef.current.offsetHeight}})}componentWillUnmount(){window.removeEventListener("resize",this.handleResize)}componentDidUpdate(){let e=document.querySelector(".tb_app_container"),n=s.b8?s.b8:e.parentNode.id;this.setState({parentID:n})}render(){var e,n,t,a,l,v,m,w,f,b;const{wall:S,reviewFilters:x,webFilters:z,postData:j,languageSetting:k,filter_tags:B}=this.props,_=!!(S.Banner&&Object.keys(S.Banner).length>0),R=_?(0,s.Kn)(S.Banner)?S.Banner:S.Banner[0]:{},D=!!(_||S.CustomBanner&&Object.keys(S.CustomBanner).length>0&&(1===(null===R||void 0===R?void 0:R.status)&&1===(null===R||void 0===R?void 0:R.banner_position)||1===(null===R||void 0===R?void 0:R.status)&&1===(null===R||void 0===R?void 0:R.banner_position)||1===(null===S||void 0===S||null===(e=S.BannerImage)||void 0===e?void 0:e.status))),I=!(!_||1!==R.status||2!==R.banner_position),P=o.ZQ?![55,60,16,47,57].includes(S.Personalization.widgetTheme):![55,52,60,16,47,57,61].includes(S.Personalization.widgetTheme),y=_&&1===(null===R||void 0===R?void 0:R.status)&&6==(null===R||void 0===R?void 0:R.bannerType)&&0===S.Personalization.filterStatus&&![57,84].includes(S.Personalization.widgetTheme),F=o.ZQ?1===S.Personalization.filterStatus:!!(1===S.Personalization.filterStatus&&z&&z.length>1),H=!!(B&&B.length>0);let T=""!=z&&z&&z.length>0?z.map((e=>{let{Network:n}=e;return null===n||void 0===n?void 0:n.id})):null;!o.ig&&null!==S&&void 0!==S&&null!==(n=S.Background)&&void 0!==n&&n.image&&S.Background.image.includes(r.ho)&&(S.Background.image=String(S.Background.image).replace(r.lO,""));const U=0===(null===S||void 0===S||null===(t=S.Background)||void 0===t?void 0:t.transparent)||null!==S&&void 0!==S&&null!==(a=S.Background)&&void 0!==a&&a.image&&o.ZQ?{backgroundImage:null!==S&&void 0!==S&&null!==(l=S.Background)&&void 0!==l&&l.image?"url(".concat(null===S||void 0===S||null===(v=S.Background)||void 0===v?void 0:v.image,")"):"",backgroundColor:null===S||void 0===S||null===(m=S.Background)||void 0===m?void 0:m.color}:null,C=!![63,64].includes(S.Personalization.widgetTheme),W=!(1!=(null===S||void 0===S||null===(w=S.ThemeRule)||void 0===w?void 0:w.showReviewHeader)||!C);return(0,d.jsxs)("div",{className:"tb_app_container",style:{minHeight:[47,16,49,55,60,52].includes(S.Personalization.widgetTheme)?"100%":"".concat(this.props.postHeight,"px")},ref:this.containerRef,children:[D?(0,d.jsxs)(i.Suspense,{fallback:(0,d.jsx)(d.Fragment,{}),children:[" ",(0,d.jsx)(u,{Banner:S.Banner,BannerImage:S.BannerImage})]}):"",(0,d.jsxs)("div",{className:"tb_app_wrapper",style:U,children:[y&&D||W?(0,d.jsx)(i.Suspense,{fallback:(0,d.jsx)(d.Fragment,{}),children:(0,d.jsx)(g,{isHeader:W,reviewFilters:x,appendData:j.appendData,wall:S,languageSetting:k,postData:j})}):null,(null!==S&&void 0!==S&&null!==(f=S.UserRule)&&void 0!==f&&f.on_site_upload&&S.UgcSettings.onsite_status||o.nX&&S.UgcSettings.onsite_status)&&(o.Jx||o.ig&&![63,64,50].includes(S.Personalization.widgetTheme))?(0,d.jsxs)(i.Suspense,{fallback:(0,d.jsx)(d.Fragment,{}),children:[" ",(0,d.jsx)(p,{UgcSettings:S.UgcSettings,id:S.Wall.id,tagShopWallId:S.Wall.wallId})," "]}):null,P&&(F||H)?(0,d.jsxs)(i.Suspense,{fallback:(0,d.jsx)(d.Fragment,{}),children:[" ",(0,d.jsx)(c,{type:S.Personalization.filter_type,webFilters:z,filter_tags:B,appendData:j.appendData,wall:S,languageSetting:k,postData:j})]}):"",C&&1==(null===S||void 0===S||null===(b=S.ThemeRule)||void 0===b?void 0:b.showReviewList)||!C?(0,d.jsxs)(i.Suspense,{fallback:(0,d.jsx)(d.Fragment,{}),children:[" ",(0,d.jsx)(h,{...this.props,brandingNetworks:T,containerSize:this.state.containerSize,parentID:this.state.parentID})]}):null,y&&I?(0,d.jsx)(i.Suspense,{fallback:(0,d.jsx)(d.Fragment,{}),children:(0,d.jsx)(g,{isHeader:W,reviewFilters:x,appendData:j.appendData,wall:S,languageSetting:k,postData:j})}):null]}),I?(0,d.jsxs)(i.Suspense,{fallback:(0,d.jsx)(d.Fragment,{}),children:[" ",(0,d.jsx)(u,{Banner:S.Banner,BannerImage:S.BannerImage})]}):""]})}}const m=(0,l.$j)((e=>{if(!0===e.postHeight.manage_height){return{postHeight:e.postHeight.data.replace("px",""),renderId:e.renderId}}return{renderId:e.renderId}}),(e=>({managePostHeight:n=>e((0,a.B0)(n))})))(v)}}]);